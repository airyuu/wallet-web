<div class="container">
  <h1>注册</h1>
  <form #userForm="ngForm" (ngSubmit)="register(username.valid,password.valid,passwordConfirm.valid)">
    <div class="form-group">
      <label for="username">用户名</label>
      <input type="text" class="form-control" name="username" autocomplete="off" required minlength="11" [(ngModel)]="user.username" [ngModelOptions]="{standalone: true}" #username=ngModel placeholder="请输入手机号码" />
    </div>
    <div class="form-group">
      <label for="password">密码</label>
      <input type="password" class="form-control" name="password" autocomplete="off" required minlength="6" [(ngModel)]="user.password" [ngModelOptions]="{standalone: true}" #password="ngModel" placeholder="请输入密码" />
    </div>
    <div class="form-group">
      <label for="passwordConfirm">确认密码</label>
      <input type="password" class="form-control" name="passwordConfirm" autocomplete="off" required minlength="6" [(ngModel)]="user.passwordConfirm" [ngModelOptions]="{standalone: true}" #passwordConfirm="ngModel" placeholder="请确认密码是否正确" />
    </div>
    <label></label>
    <button type="submit" class="btn btn-success">登录</button>
    <div class="tip">已有账号？<a routerLink="/login" routerLinkActive="active">立即登录</a></div>
  </form>

  <div *ngIf="this.submitStatus">
    <div *ngIf="username.invalid" class="alert">
      <div *ngIf="username.errors.required">用户名为空</div>
      <div *ngIf="!username.errors.required && !mobileExg.test(username.value)">手机号码格式不正确</div>
    </div>
    <div *ngIf="password.invalid && !username.invalid" class="alert">
      <div *ngIf="password.errors.required">密码为空</div>
      <div *ngIf="!password.errors.required && !passExg.test(password.value)">密码格式不正确</div>
    </div>
    <div *ngIf="!password.invalid && !username.invalid && passwordConfirm.invalid" class="alert">
      <div *ngIf="passwordConfirm.errors.required">请再次输入密码</div>
      <div *ngIf="!passwordConfirm.errors.required && passwordConfirm.value !== password.value">两次密码输入不一致</div>
    </div>

    <div class="alert">{{msg}}</div>
  </div>

</div>

